{% extends "base.html" %}

{% block content %}
<h2>Company Profile</h2>

<div class="main-container">

    <!-- Uncontacted / Unpaid Section -->
    <div class="section">
        <h3>Uncontacted / Unpaid</h3>
        {% if uncontacted_unpaid %}
        <ul>
            {% for company in uncontacted_unpaid %}
            <li>
                <a href="{{ url_for('company_profile', company_id=company.id) }}">{{ company.name }}</a>
                ({{ company.contracts|length }} unpaid contracts)
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No uncontacted/unpaid companies found.</p>
        {% endif %}
    </div>

    <!-- Contacted in the Past 7 Days / Unpaid Section -->
    <div class="section">
        <h3>Contacted in the Past 7 Days / Unpaid</h3>
        {% if contacted_unpaid %}
        <ul>
            {% for company in contacted_unpaid %}
            <li>
                <a href="{{ url_for('company_profile', company_id=company.id) }}">{{ company.name }}</a>
                ({{ company.contracts|length }} unpaid contracts)
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No recently contacted/unpaid companies found.</p>
        {% endif %}
    </div>

    <!-- Paid / No Contracts Owed Section -->
    <div class="section">
        <h3>Paid / No Contracts Owed</h3>
        {% if paid_no_contracts %}
        <ul>
            {% for company in paid_no_contracts %}
            <li>
                <a href="{{ url_for('company_profile', company_id=company.id) }}">{{ company.name }}</a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>All companies owe money or are uncontacted.</p>
        {% endif %}
    </div>

</div>

<style>
    .main-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .section {
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    h3 {
        margin-bottom: 10px;
    }

    ul {
        list-style-type: none;
        padding: 0;
    }

    ul li {
        margin: 5px 0;
    }

    ul li a {
        text-decoration: none;
        color: #007BFF;
    }

    ul li a:hover {
        text-decoration: underline;
    }
</style>
{% endblock %}
